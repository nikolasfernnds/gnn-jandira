<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="../../assets/img/logo-redonda.png">
    <link rel="stylesheet" href="../../assets/css/global.css" />
    <link rel="stylesheet" href="../../assets/css/components.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="../../assets/js/components.js" defer type="module"></script>
    <script src="../../assets/js/ocorrencias.js" defer type="module"></script>
    <script src="app.js" defer type="module"></script>
    <title>GNN Jandira - Ocorrências</title>
</head>

<body>
    <header id="header"></header>

    <div id="container-navbar" class="container-navbar"></div>

    <main>
        <section class="sessao-ocorrencia">
            <h1 class="titulo-pagina">Ocorrências</h1>

            <div class="btn-container">
                <button class="btn-tab active" id="btn-feed">Feed da Cidade</button>
                <button class="btn-tab" id="btn-minhas">Minhas Ocorrências</button>
            </div>

            

            <div id="view-feed" class="lista-ocorrencias">
                </div>

            <div id="view-minhas" class="lista-ocorrencias hidden">
                <div class="filtros-container">
                    <button class="btn-filtro active" id="btn-filtro-todas">Todas</button>
                    <button class="btn-filtro" id="btn-filtro-ativas">Em Andamento</button>
                    <button class="btn-filtro" id="btn-filtro-encerradas">Encerradas</button>
                </div>
                <div id="container-lista-minhas" class="lista-minhas-ocorrencias">
                    </div>
            </div>

            <div id="modal-detalhes-overlay" class="modal-overlay">
                <div class="modal-box modal-detalhes">
                    <div class="modal-header">
                        <h2 id="detalhe-titulo">Carregando...</h2>
                        <button id="btn-fechar-detalhes" class="btn-close" type="button">✖</button>
                    </div>

                    <div class="detalhes-body">
                        <div class="detalhes-meta">
                            <span id="detalhe-status" class="tag-status">...</span>
                            <span id="detalhe-data" class="tag-data">...</span>
                        </div>

                        <div class="detalhe-imagem-container hidden" id="detalhe-img-container">
                            <img id="detalhe-foto" src="" alt="Foto da ocorrência">
                        </div>

                        <h3 class="label-detalhe">Descrição</h3>
                        <p id="detalhe-descricao" class="texto-descricao">...</p>

                        <h3 class="label-detalhe">Localização</h3>
                        <p id="detalhe-endereco" class="texto-endereco">...</p>

                        <div class="secao-interacao">
                            <div class="tabs-interacao">
                                <button class="tab-btn active" id="tab-historico">Histórico</button>
                                <button class="tab-btn" id="tab-comentarios">Comentários</button>
                            </div>

                            <div id="painel-historico" class="painel-conteudo">
                                <ul class="timeline" id="lista-historico"></ul>
                            </div>

                            <div id="painel-comentarios" class="painel-conteudo hidden">
                                <div id="lista-comentarios" class="lista-comentarios">
                                    <article class="comentario">
                                        <p class="comentario-usuario">user</p>
                                        <p class="comentario-texto">comentarios</p>
                                        <span class="comentario-data">09/12</span>
                                    </article>
                                    <article class="comentario">
                                        <p class="comentario-usuario">user</p>
                                        <p class="comentario-texto">comentarios</p>
                                        <span class="comentario-data">09/12</span>
                                    </article>
                                    <article class="comentario">
                                        <p class="comentario-usuario">user</p>
                                        <p class="comentario-texto">comentarios</p>
                                        <span class="comentario-data">09/12</span>
                                    </article>
                                </div>
                            </div>
                            <div class="escrever-comentario">
                                <input type="text" class="input-comentario hidden" id="input-comentario" placeholder="Digite seu comentario">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="modal-ocorrencia-overlay" class="modal-overlay">
                <div class="modal-box">
                    <div class="modal-header">
                        <h2>Registrar Ocorrência</h2>
                        <button id="btn-fechar-modal" class="btn-close">✖</button>
                    </div>

                    <form class="modal-form">
                        <div class="coluna-foto">
                            <label for="file-input" class="preview" id="preview-label">
                                <span><i class="fas fa-camera"></i> Adicionar Foto</span>
                            </label>
                            <img id="image-preview" class="preview-image hidden" src="" alt="Prévia">
                            <input type="file" id="file-input" class="preview-input" accept="image/*">
                        </div>

                        <div class="coluna-campos">
                            <input type="text" class="input-padrao" placeholder="Título (Ex: Buraco na rua)"
                                id="input-titulo">

                            <select class="input-padrao" id="input-tipo">
                                <option value="" disabled selected>Tipo de Ocorrência...</option>
                                <option value="iluminacao">Iluminação Pública</option>
                                <option value="via">Pavimentação / Buraco</option>
                                <option value="lixo">Limpeza / Lixo</option>
                                <option value="agua">Água e Esgoto</option>
                            </select>

                            <div class="row-inputs">
                                <input type="text" class="input-padrao" placeholder="CEP" style="width: 30%;"
                                    id="input-cep" maxlength="9">
                                <input type="text" class="input-padrao" placeholder="Número" style="width: 65%;"
                                    id="input-numero">
                            </div>

                            <input type="text" class="input-padrao" placeholder="Endereço (Rua)" id="input-logradouro">

                            <div class="row-inputs">
                                <input type="text" class="input-padrao" placeholder="Bairro" id="input-bairro">
                                <input type="text" class="input-padrao" placeholder="Cidade" id="input-cidade">
                                <input type="text" class="input-padrao" placeholder="UF" style="width: 20%;"
                                    id="input-uf">
                            </div>

                            <input type="text" class="input-padrao" placeholder="Ponto de Referência"
                                id="input-referencia">

                            <div class="row-inputs">
                                <input type="date" class="input-padrao" id="input-data">
                                <select class="input-padrao" id="input-urgencia">
                                    <option value="baixa">Urgência Baixa</option>
                                    <option value="media">Média</option>
                                    <option value="alta">Alta</option>
                                </select>
                            </div>

                            <div class="form-footer">
                                <div class="buttons">
                                    <button type="button" class="btn-cancelar btn-tab"
                                        id="btn-cancelar">Cancelar</button>
                                    <button type="button" class="btn-cadastro-ocorrencia btn-tab"
                                        id="btn-registrar">Registrar</button>
                                </div>
                                <label class="checkbox-container">
                                    <input type="checkbox" id="check-anonimo"> Denúncia Anônima
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="container-nova-ocorrencia">
                <button class="btn-nova-ocorrencia" id="btn-nova-ocorrencia"> Cadastrar nova Ocorrência</button>
            </div>

        </section>
    </main>
</body>

</html>